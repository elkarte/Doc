<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="generator" content="ApiGen 2.8.0" />

	<title>Class ScheduledTask | ElkArte Documentation</title>

	<script type="text/javascript" src="resources/combined.js?3648714599"></script>
	<script type="text/javascript" src="elementlist.js?3593784124"></script>
	<link rel="stylesheet" type="text/css" media="all" href="resources/bootstrap.min.css?260161822" />
	<link rel="stylesheet" type="text/css" media="all" href="resources/style.css?2015443609" />

</head>

<body>
	<div id="navigation" class="navbar navbar-fixed-top">
		<div class="navbar-inner">
			<div class="container">
				<a href="index.html" class="brand">ElkArte Documentation</a>
				<div class="nav-collapse">
					<ul class="nav">
						<li>
							<a href="package-ScheduledTasks.html" title="Summary of ScheduledTasks"><span>Package</span></a>
						</li>
						<li class="active">
<span>Class</span>						</li>

						<li class="divider-vertical"></li>

						<li>
							<a href="tree.html" title="Tree view of classes, interfaces, traits and exceptions"><span>Tree</span></a>
						</li>
						<li>
							<a href="todo.html" title="Todo list"><span>Todo</span></a>
						</li>


					</ul>
				</div>
			</div>
		</div>
	</div>

	<div id="left">
	<div id="menu">
		<form id="search" class="form-search">
			<input type="hidden" name="cx" value="" />
			<input type="hidden" name="ie" value="UTF-8" />
			<input type="text" name="q" class="search-query" placeholder="Search" />
		</form>


		<div id="groups">
			<h3>Packages</h3>
			<ul>
				<li><a href="package-AddonSettings.html">AddonSettings</a>
						</li>
				<li><a href="package-Admin.html">Admin</a>
						</li>
				<li><a href="package-AdminLog.html">AdminLog</a>
						</li>
				<li><a href="package-Attachments.html">Attachments</a>
						</li>
				<li><a href="package-Authorization.html">Authorization</a>
						</li>
				<li><a href="package-Avatars.html">Avatars</a>
						</li>
				<li><a href="package-BadBehavior.html">BadBehavior</a>
						</li>
				<li><a href="package-Bans.html">Bans</a>
						</li>
				<li><a href="package-BBC.html">BBC</a>
						</li>
				<li><a href="package-Boards.html">Boards</a>
						</li>
				<li><a href="package-Calendar.html">Calendar</a>
						</li>
				<li><a href="package-CoreFeatures.html">CoreFeatures</a>
						</li>
				<li><a href="package-Drafts.html">Drafts</a>
						</li>
				<li><a href="package-Graphics.html">Graphics</a>
						</li>
				<li><a href="package-Languages.html">Languages</a>
						</li>
				<li><a href="package-Mail.html">Mail</a>
						</li>
				<li><a href="package-Maillist.html">Maillist</a>
						</li>
				<li><a href="package-Maintenance.html">Maintenance</a>
						</li>
				<li><a href="package-Membergroups.html">Membergroups</a>
						</li>
				<li><a href="package-Members.html">Members</a>
						</li>
				<li><a href="package-Mentions.html">Mentions</a>
						</li>
				<li><a href="package-News.html">News</a>
						</li>
				<li><a href="package-None.html">None</a>
						</li>
				<li><a href="package-Packages.html">Packages</a>
						</li>
				<li><a href="package-Permissions.html">Permissions</a>
						</li>
				<li><a href="package-Posts.html">Posts</a>
						</li>
				<li><a href="package-Registration.html">Registration</a>
						</li>
				<li class="active"><a href="package-ScheduledTasks.html">ScheduledTasks</a>
						</li>
				<li><a href="package-Search.html">Search</a>
						</li>
				<li><a href="package-Security.html">Security</a>
						</li>
				<li><a href="package-Subscriptions.html">Subscriptions</a>
						</li>
			</ul>
		</div>


		<div id="elements">
			<h3>Classes</h3>
			<ul>
				<li><a href="class-ManageScheduledTasks_Controller.html">ManageScheduledTasks_Controller</a></li>
				<li class="active"><a href="class-ScheduledTask.html">ScheduledTask</a></li>
			</ul>





			<h3>Functions</h3>
			<ul>
				<li><a href="function-calculateNextTrigger.html">calculateNextTrigger</a></li>
				<li><a href="function-countTaskLogEntries.html">countTaskLogEntries</a></li>
				<li><a href="function-getTaskLogEntries.html">getTaskLogEntries</a></li>
				<li><a href="function-loadTaskDetails.html">loadTaskDetails</a></li>
				<li><a href="function-loadTasks.html">loadTasks</a></li>
				<li><a href="function-logTask.html">logTask</a></li>
				<li><a href="function-next_time.html">next_time</a></li>
				<li><a href="function-nextTime.html">nextTime</a></li>
				<li><a href="function-processNextTasks.html">processNextTasks</a></li>
				<li><a href="function-run_this_task.html">run_this_task</a></li>
				<li><a href="function-scheduledTasks.html">scheduledTasks</a></li>
				<li><a href="function-toggleTaskStatusByName.html">toggleTaskStatusByName</a></li>
				<li><a href="function-updateTask.html">updateTask</a></li>
				<li><a href="function-updateTaskStatus.html">updateTaskStatus</a></li>
			</ul>
		</div>
	</div>
</div>

<div id="splitter"></div>

<div id="right">
	<div id="rightInner">
<div id="content" class="class">
	<h1>Class ScheduledTask</h1>


	<div class="description">
	
<p>This class handles known scheduled tasks.</p>

<ul>
	<li>Each method implements a task, and</li>

	<li>it's called automatically for the task to run.</li>
</ul>

	</div>









	<div class="alert alert-info">
		
		
		
		<b>Package:</b> <a href="package-ScheduledTasks.html">ScheduledTasks</a><br />

				<b>Copyright:</b>
				ElkArte Forum contributors<br />
				<b>License:</b>
				<a href="BSD">http://opensource.org/licenses/BSD-3-Clause

This software is a derived product, based on:

Simple Machines Forum (SMF)
copyright:	2011 Simple Machines (http://www.simplemachines.org)
license:  	BSD, See included LICENSE.TXT for terms and conditions.</a><br />
		<b>Located at</b> <a href="source-class-ScheduledTask.html#23-1566" title="Go to source code">sources/subs/ScheduledTask.class.php</a><br />
	</div>



		<h2>Methods summary</h2>
		<table class="summary table table-bordered table-striped" id="methods">
		<tr data-order="approval_notification" id="_approval_notification">

			<td class="attributes"><code>
				 public 
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_approval_notification">#</a>
			<code><a href="source-class-ScheduledTask.html#33-246" title="Go to source code">approval_notification</a>( )</code>

			<div class="description short">
				
<p>Function to sending out approval notices to moderators.</p>

			</div>

			<div class="description detailed hidden">
				
<p>Function to sending out approval notices to moderators.</p>

<ul>
	<li>It checks who needs to receive approvals notifications and sends
	emails.</li>
</ul>








			</div>
			</div></td>
		</tr>
		<tr data-order="daily_maintenance" id="_daily_maintenance">

			<td class="attributes"><code>
				 public 
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_daily_maintenance">#</a>
			<code><a href="source-class-ScheduledTask.html#248-365" title="Go to source code">daily_maintenance</a>( )</code>

			<div class="description short">
				
<p>This function does daily cleaning up:</p>

			</div>

			<div class="description detailed hidden">
				
<p>This function does daily cleaning up:</p>

<ul>
	<li>decrements warning levels if it's enabled</li>

	<li>consolidate spider statistics</li>

	<li>fix MySQL version</li>

	<li>regenerate Diffie-Hellman keys for OpenID</li>

	<li>remove obsolete login history logs</li>
</ul>








			</div>
			</div></td>
		</tr>
		<tr data-order="auto_optimize" id="_auto_optimize">

			<td class="attributes"><code>
				 public 
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_auto_optimize">#</a>
			<code><a href="source-class-ScheduledTask.html#367-412" title="Go to source code">auto_optimize</a>( )</code>

			<div class="description short">
				
<p>Auto optimize the database.</p>

			</div>

			<div class="description detailed hidden">
				
<p>Auto optimize the database.</p>








			</div>
			</div></td>
		</tr>
		<tr data-order="daily_digest" id="_daily_digest">

			<td class="attributes"><code>
				 public 
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_daily_digest">#</a>
			<code><a href="source-class-ScheduledTask.html#414-804" title="Go to source code">daily_digest</a>( )</code>

			<div class="description short">
				
<p>Send out a daily email of all subscribed topics, to members.</p>

			</div>

			<div class="description detailed hidden">
				
<p>Send out a daily email of all subscribed topics, to members.</p>

<ul>
	<li>It sends notifications about replies or new topics,</li>
</ul>

<p>and moderation actions.</p>








			</div>
			</div></td>
		</tr>
		<tr data-order="weekly_digest" id="_weekly_digest">

			<td class="attributes"><code>
				 public 
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_weekly_digest">#</a>
			<code><a href="source-class-ScheduledTask.html#806-819" title="Go to source code">weekly_digest</a>( )</code>

			<div class="description short">
				
<p>Sends out email notifications for new/updated topics.</p>

			</div>

			<div class="description detailed hidden">
				
<p>Sends out email notifications for new/updated topics.</p>

<ul>
	<li>Like the daily stuff - just seven times less regular ;)</li>

	<li>This method forwards to daily_digest()</li>
</ul>








			</div>
			</div></td>
		</tr>
		<tr data-order="birthdayemails" id="_birthdayemails">

			<td class="attributes"><code>
				 public 
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_birthdayemails">#</a>
			<code><a href="source-class-ScheduledTask.html#833-915" title="Go to source code">birthdayemails</a>( )</code>

			<div class="description short">
				
<p>Schedule birthday emails. (aka "Happy birthday!!")</p>

			</div>

			<div class="description detailed hidden">
				
<p>Schedule birthday emails. (aka "Happy birthday!!")</p>








			</div>
			</div></td>
		</tr>
		<tr data-order="weekly_maintenance" id="_weekly_maintenance">

			<td class="attributes"><code>
				 public 
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_weekly_maintenance">#</a>
			<code><a href="source-class-ScheduledTask.html#917-1120" title="Go to source code">weekly_maintenance</a>( )</code>

			<div class="description short">
				
<p>Weekly maintenance taks</p>

			</div>

			<div class="description detailed hidden">
				
<p>Weekly maintenance taks</p>

<p>What it does:</p>

<ul>
	<li>remove empty or temporary settings</li>

	<li>prune logs</li>

	<li>obsolete paid subscriptions</li>

	<li>clear sessions table</li>
</ul>








			</div>
			</div></td>
		</tr>
		<tr data-order="paid_subscriptions" id="_paid_subscriptions">

			<td class="attributes"><code>
				 public 
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_paid_subscriptions">#</a>
			<code><a href="source-class-ScheduledTask.html#1122-1209" title="Go to source code">paid_subscriptions</a>( )</code>

			<div class="description short">
				
<p>Perform the standard checks on expiring/near expiring subscriptions:</p>

			</div>

			<div class="description detailed hidden">
				
<p>Perform the standard checks on expiring/near expiring subscriptions:</p>

<ul>
	<li>remove expired subscriptions</li>

	<li>notify of subscriptions about to expire</li>
</ul>








			</div>
			</div></td>
		</tr>
		<tr data-order="remove_temp_attachments" id="_remove_temp_attachments">

			<td class="attributes"><code>
				 public 
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_remove_temp_attachments">#</a>
			<code><a href="source-class-ScheduledTask.html#1211-1254" title="Go to source code">remove_temp_attachments</a>( )</code>

			<div class="description short">
				
<p>Check for un-posted attachments is something we can do once in a while :P</p>

			</div>

			<div class="description detailed hidden">
				
<p>Check for un-posted attachments is something we can do once in a while :P</p>

<ul>
	<li>This function uses opendir cycling through all the attachments</li>
</ul>








			</div>
			</div></td>
		</tr>
		<tr data-order="remove_topic_redirect" id="_remove_topic_redirect">

			<td class="attributes"><code>
				 public 
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_remove_topic_redirect">#</a>
			<code><a href="source-class-ScheduledTask.html#1256-1294" title="Go to source code">remove_topic_redirect</a>( )</code>

			<div class="description short">
				
<p>Check for move topic notices that have past their best by date:</p>

			</div>

			<div class="description detailed hidden">
				
<p>Check for move topic notices that have past their best by date:</p>

<ul>
	<li>remove them if the time has expired.</li>
</ul>








			</div>
			</div></td>
		</tr>
		<tr data-order="remove_old_drafts" id="_remove_old_drafts">

			<td class="attributes"><code>
				 public 
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_remove_old_drafts">#</a>
			<code><a href="source-class-ScheduledTask.html#1296-1335" title="Go to source code">remove_old_drafts</a>( )</code>

			<div class="description short">
				
<p>Check for old drafts and remove them</p>

			</div>

			<div class="description detailed hidden">
				
<p>Check for old drafts and remove them</p>








			</div>
			</div></td>
		</tr>
		<tr data-order="maillist_fetch_IMAP" id="_maillist_fetch_IMAP">

			<td class="attributes"><code>
				 public 
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_maillist_fetch_IMAP">#</a>
			<code><a href="source-class-ScheduledTask.html#1337-1348" title="Go to source code">maillist_fetch_IMAP</a>( )</code>

			<div class="description short">
				
<p>Fetch emails from an imap box and process them</p>

			</div>

			<div class="description detailed hidden">
				
<p>Fetch emails from an imap box and process them</p>

<ul>
	<li>If we can't run this via cron, run it as a task instead</li>
</ul>








			</div>
			</div></td>
		</tr>
		<tr data-order="remove_old_followups" id="_remove_old_followups">

			<td class="attributes"><code>
				 public 
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_remove_old_followups">#</a>
			<code><a href="source-class-ScheduledTask.html#1350-1385" title="Go to source code">remove_old_followups</a>( )</code>

			<div class="description short">
				
<p>Check for followups from removed topics and remove them from the table</p>

			</div>

			<div class="description detailed hidden">
				
<p>Check for followups from removed topics and remove them from the table</p>








			</div>
			</div></td>
		</tr>
		<tr data-order="user_access_mentions" id="_user_access_mentions">

			<td class="attributes"><code>
				 public 
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_user_access_mentions">#</a>
			<code><a href="source-class-ScheduledTask.html#1387-1565" title="Go to source code">user_access_mentions</a>( )</code>

			<div class="description short">
				
<p>Re-syncs if a user can access a mention,</p>

			</div>

			<div class="description detailed hidden">
				
<p>Re-syncs if a user can access a mention,</p>

<ul>
	<li>for example if they loose or gain access to a board, this will correct</li>
</ul>

<p>the viewing of the mention table. Since this can be a large job it is run as
a scheduled immediate task</p>








			</div>
			</div></td>
		</tr>
		</table>



		<h3>Magic methods summary</h3>








</div>
	</div>

	<div id="footer">
		ElkArte Documentation API documentation generated by <a href="http://apigen.org">ApiGen 2.8.0</a>
	</div>
</div>
</body>
</html>
