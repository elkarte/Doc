<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">

	<title>Class Scheduled_Task | ElkArte 1.0.5 Documentation</title>

	<link rel="stylesheet" href="resources/bootstrap.min.css?973e37a8502921d56bc02bb55321f45b072b6f71">
	<link rel="stylesheet" href="resources/style.css?70c1d062672daa3f906b72e4f5d03d4bc5c4174d">

</head>

<body>
	<nav id="navigation" class="navbar navbar-default navbar-fixed-top">
		<div class="container-fluid">
			<div class="navbar-header">
				<a href="index.html" class="navbar-brand">ElkArte 1.0.5 Documentation</a>
			</div>
			<div class="collapse navbar-collapse">

                <form id="search" class="navbar-form navbar-left" role="search">
                    <input type="hidden" name="cx" value="">
                    <input type="hidden" name="ie" value="UTF-8">
                    <div class="form-group">
                        <input type="text" name="q" class="search-query form-control" placeholder="Search">
					</div>
				</form>

				<ul class="nav navbar-nav">
					<li>
<span>Package</span>					</li>
					<li class="active">
<span>Class</span>					</li>

					<li class="divider-vertical"></li>

					<li>
						<a href="tree.html" title="Tree view of classes, interfaces, traits and exceptions"><span>Tree</span></a>
					</li>

						<li>
							<a href="annotation-group-deprecated.html" title="List of elements with deprecated annotation">
								<span>Deprecated</span>
							</a>
						</li>
						<li>
							<a href="annotation-group-todo.html" title="List of elements with todo annotation">
								<span>Todo</span>
							</a>
						</li>

					<li class="divider-vertical"></li>

					<li>
						<a href="-API-documentation.zip" title="Download documentation as ZIP archive"><span>Download</span></a>
					</li>
				</ul>
			</div>
		</div>
	</nav>

	<div id="left">
	<div id="menu">

		<div id="groups">
				<h3>Packages</h3>
			<ul>
					<li>
						<a href="package-AddonSettings.html">
							AddonSettings						</a>
							</li>
					<li>
						<a href="package-Admin.html">
							Admin						</a>
							</li>
					<li>
						<a href="package-AdminLog.html">
							AdminLog						</a>
							</li>
					<li>
						<a href="package-Attachments.html">
							Attachments						</a>
							</li>
					<li>
						<a href="package-Authorization.html">
							Authorization						</a>
							</li>
					<li>
						<a href="package-Avatars.html">
							Avatars						</a>
							</li>
					<li>
						<a href="package-BadBehavior.html">
							BadBehavior						</a>
							</li>
					<li>
						<a href="package-Bans.html">
							Bans						</a>
							</li>
					<li>
						<a href="package-BBC.html">
							BBC						</a>
							</li>
					<li>
						<a href="package-Boards.html">
							Boards						</a>
							</li>
					<li>
						<a href="package-Calendar.html">
							Calendar						</a>
							</li>
					<li>
						<a href="package-CoreFeatures.html">
							CoreFeatures						</a>
							</li>
					<li>
						<a href="package-Drafts.html">
							Drafts						</a>
							</li>
					<li>
						<a href="package-Graphics.html">
							Graphics						</a>
							</li>
					<li>
						<a href="package-Karma.html">
							Karma						</a>
							</li>
					<li>
						<a href="package-Languages.html">
							Languages						</a>
							</li>
					<li>
						<a href="package-Likes.html">
							Likes						</a>
							</li>
					<li>
						<a href="package-Mail.html">
							Mail						</a>
							</li>
					<li>
						<a href="package-Maillist.html">
							Maillist						</a>
							</li>
					<li>
						<a href="package-Maintenance.html">
							Maintenance						</a>
							</li>
					<li>
						<a href="package-Membergroups.html">
							Membergroups						</a>
							</li>
					<li>
						<a href="package-Members.html">
							Members						</a>
							</li>
					<li>
						<a href="package-Mentions.html">
							Mentions						</a>
							</li>
					<li>
						<a href="package-News.html">
							News						</a>
							</li>
					<li>
						<a href="package-None.html">
							None						</a>
							</li>
					<li>
						<a href="package-Packages.html">
							Packages						</a>
							</li>
					<li>
						<a href="package-Permissions.html">
							Permissions						</a>
							</li>
					<li>
						<a href="package-PersonalMessage.html">
							PersonalMessage						</a>
							</li>
					<li>
						<a href="package-Posts.html">
							Posts						</a>
							</li>
					<li>
						<a href="package-Registration.html">
							Registration						</a>
							</li>
					<li>
						<a href="package-ScheduledTasks.html">
							ScheduledTasks						</a>
							</li>
					<li>
						<a href="package-Search.html">
							Search						</a>
							</li>
					<li>
						<a href="package-SearchEngines.html">
							SearchEngines						</a>
							</li>
					<li>
						<a href="package-Security.html">
							Security						</a>
							</li>
					<li>
						<a href="package-Subscriptions.html">
							Subscriptions						</a>
							</li>
					<li>
						<a href="package-Themes.html">
							Themes						</a>
							</li>
			</ul>
		</div>


		<div id="elements">
			<h3>Classes</h3>
			<ul>
				<li><a href="class-ManageScheduledTasks_Controller.html">ManageScheduledTasks_Controller</a></li>
				<li class="active"><a href="class-Scheduled_Task.html">Scheduled_Task</a></li>
			</ul>





			<h3>Functions</h3>
			<ul>
				<li><a href="function-calculateNextTrigger.html">calculateNextTrigger</a></li>
				<li><a href="function-countTaskLogEntries.html">countTaskLogEntries</a></li>
				<li><a href="function-getTaskLogEntries.html">getTaskLogEntries</a></li>
				<li><a href="function-loadTaskDetails.html">loadTaskDetails</a></li>
				<li><a href="function-loadTasks.html">loadTasks</a></li>
				<li><a href="function-logTask.html">logTask</a></li>
				<li><a href="function-next_time.html">next_time</a></li>
				<li><a href="function-nextTime.html">nextTime</a></li>
				<li><a href="function-processNextTasks.html">processNextTasks</a></li>
				<li><a href="function-run_this_task.html">run_this_task</a></li>
				<li><a href="function-scheduledTasks.html">scheduledTasks</a></li>
				<li><a href="function-toggleTaskStatusByName.html">toggleTaskStatusByName</a></li>
				<li><a href="function-updateTask.html">updateTask</a></li>
				<li><a href="function-updateTaskStatus.html">updateTaskStatus</a></li>
			</ul>
		</div>
	</div>
</div>

<div id="splitter"></div>

<div id="right">
	<div id="rightInner">
<div id="content" class="class">
	<h1>Class Scheduled_Task</h1>


	<div class="description">
	<p>This class handles known scheduled tasks.</p>

<ul>
<li>Each method implements a task, and</li>
<li>it's called automatically for the task to run.</li>
</ul>
	</div>









	<div class="alert alert-info">
		
		
		
		<b>Package:</b> <a href="package-ScheduledTasks.html">ScheduledTasks</a><br>

				<b>Copyright:</b>
				ElkArte Forum contributors<br>
				<b>License:</b>
				<a href="BSD">http://opensource.org/licenses/BSD-3-Clause

This software is a derived product, based on:

Simple Machines Forum (SMF)
copyright:	2011 Simple Machines (http://www.simplemachines.org)
license:  	BSD, See included LICENSE.TXT for terms and conditions.</a><br>
			<b>Located at</b> <a href="source-class-Scheduled_Task.html#23-1581" title="Go to source code">sources/subs/ScheduledTask.class.php</a>
		<br>
	</div>



		<div class="panel panel-default">
			<div class="panel-heading"><h2>Methods summary</h2></div>
			<table class="summary table table-bordered table-striped methods" id="methods">
		<tr data-order="approval_notification" id="_approval_notification">

			<td class="attributes"><code>
				 public 
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_approval_notification">#</a>
			<code><a href="source-class-Scheduled_Task.html#33-247" title="Go to source code">approval_notification</a>( )</code>

			<div class="description short">
				<p>Function to sending out approval notices to moderators.</p>
			</div>

			<div class="description detailed hidden">
				<p>Function to sending out approval notices to moderators.</p>

<ul>
<li>It checks who needs to receive approvals notifications and sends emails.</li>
</ul>







			</div>
			</div></td>
		</tr>
		<tr data-order="daily_maintenance" id="_daily_maintenance">

			<td class="attributes"><code>
				 public 
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_daily_maintenance">#</a>
			<code><a href="source-class-Scheduled_Task.html#249-366" title="Go to source code">daily_maintenance</a>( )</code>

			<div class="description short">
				<p>This function does daily cleaning up:</p>
			</div>

			<div class="description detailed hidden">
				<p>This function does daily cleaning up:</p>

<ul>
<li>decrements warning levels if it's enabled</li>
<li>consolidate spider statistics</li>
<li>fix MySQL version</li>
<li>regenerate Diffie-Hellman keys for OpenID</li>
<li>remove obsolete login history logs</li>
</ul>







			</div>
			</div></td>
		</tr>
		<tr data-order="auto_optimize" id="_auto_optimize">

			<td class="attributes"><code>
				 public 
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_auto_optimize">#</a>
			<code><a href="source-class-Scheduled_Task.html#368-413" title="Go to source code">auto_optimize</a>( )</code>

			<div class="description short">
				<p>Auto optimize the database.</p>
			</div>

			<div class="description detailed hidden">
				<p>Auto optimize the database.</p>







			</div>
			</div></td>
		</tr>
		<tr data-order="daily_digest" id="_daily_digest">

			<td class="attributes"><code>
				 public 
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_daily_digest">#</a>
			<code><a href="source-class-Scheduled_Task.html#415-806" title="Go to source code">daily_digest</a>( )</code>

			<div class="description short">
				<p>Send out a daily email of all subscribed topics, to members.</p>
			</div>

			<div class="description detailed hidden">
				<p>Send out a daily email of all subscribed topics, to members.</p>

<ul>
<li>It sends notifications about replies or new topics,
and moderation actions.</li>
</ul>







			</div>
			</div></td>
		</tr>
		<tr data-order="weekly_digest" id="_weekly_digest">

			<td class="attributes"><code>
				 public 
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_weekly_digest">#</a>
			<code><a href="source-class-Scheduled_Task.html#808-821" title="Go to source code">weekly_digest</a>( )</code>

			<div class="description short">
				<p>Sends out email notifications for new/updated topics.</p>
			</div>

			<div class="description detailed hidden">
				<p>Sends out email notifications for new/updated topics.</p>

<ul>
<li>Like the daily stuff - just seven times less regular ;)</li>
<li>This method forwards to daily_digest()</li>
</ul>







			</div>
			</div></td>
		</tr>
		<tr data-order="fetchFiles" id="_fetchFiles">

			<td class="attributes"><code>
				 public 
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_fetchFiles">#</a>
			<code class="deprecated"><a href="source-class-Scheduled_Task.html#823-833" title="Go to source code">fetchFiles</a>( )</code>

			<div class="description short">
				<p>This task retrieved files from the official server.
This task is no longer used and the method remains only to avoid
"last minute" problems, it will be removed from 1.1 version</p>
			</div>

			<div class="description detailed hidden">
				<p>This task retrieved files from the official server.
This task is no longer used and the method remains only to avoid
"last minute" problems, it will be removed from 1.1 version</p>

					<h4>Deprecated</h4>
					<div class="list">
							since 1.0 - will be removed in 1.1<br>
					</div>






			</div>
			</div></td>
		</tr>
		<tr data-order="birthdayemails" id="_birthdayemails">

			<td class="attributes"><code>
				 public 
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_birthdayemails">#</a>
			<code><a href="source-class-Scheduled_Task.html#835-918" title="Go to source code">birthdayemails</a>( )</code>

			<div class="description short">
				<p>Schedule birthday emails.
(aka "Happy birthday!!")</p>
			</div>

			<div class="description detailed hidden">
				<p>Schedule birthday emails.
(aka "Happy birthday!!")</p>







			</div>
			</div></td>
		</tr>
		<tr data-order="weekly_maintenance" id="_weekly_maintenance">

			<td class="attributes"><code>
				 public 
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_weekly_maintenance">#</a>
			<code><a href="source-class-Scheduled_Task.html#920-1121" title="Go to source code">weekly_maintenance</a>( )</code>

			<div class="description short">
				<p>Weekly maintenance taks</p>
			</div>

			<div class="description detailed hidden">
				<p>Weekly maintenance taks</p>

<p>What it does:
- remove empty or temporary settings
- prune logs
- obsolete paid subscriptions
- clear sessions table</p>







			</div>
			</div></td>
		</tr>
		<tr data-order="paid_subscriptions" id="_paid_subscriptions">

			<td class="attributes"><code>
				 public 
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_paid_subscriptions">#</a>
			<code><a href="source-class-Scheduled_Task.html#1123-1210" title="Go to source code">paid_subscriptions</a>( )</code>

			<div class="description short">
				<p>Perform the standard checks on expiring/near expiring subscriptions:</p>
			</div>

			<div class="description detailed hidden">
				<p>Perform the standard checks on expiring/near expiring subscriptions:</p>

<ul>
<li>remove expired subscriptions</li>
<li>notify of subscriptions about to expire</li>
</ul>







			</div>
			</div></td>
		</tr>
		<tr data-order="remove_temp_attachments" id="_remove_temp_attachments">

			<td class="attributes"><code>
				 public 
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_remove_temp_attachments">#</a>
			<code><a href="source-class-Scheduled_Task.html#1212-1255" title="Go to source code">remove_temp_attachments</a>( )</code>

			<div class="description short">
				<p>Check for un-posted attachments is something we can do once in a while :P</p>
			</div>

			<div class="description detailed hidden">
				<p>Check for un-posted attachments is something we can do once in a while :P</p>

<ul>
<li>This function uses opendir cycling through all the attachments</li>
</ul>







			</div>
			</div></td>
		</tr>
		<tr data-order="remove_topic_redirect" id="_remove_topic_redirect">

			<td class="attributes"><code>
				 public 
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_remove_topic_redirect">#</a>
			<code><a href="source-class-Scheduled_Task.html#1257-1295" title="Go to source code">remove_topic_redirect</a>( )</code>

			<div class="description short">
				<p>Check for move topic notices that have past their best by date:</p>
			</div>

			<div class="description detailed hidden">
				<p>Check for move topic notices that have past their best by date:</p>

<ul>
<li>remove them if the time has expired.</li>
</ul>







			</div>
			</div></td>
		</tr>
		<tr data-order="remove_old_drafts" id="_remove_old_drafts">

			<td class="attributes"><code>
				 public 
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_remove_old_drafts">#</a>
			<code><a href="source-class-Scheduled_Task.html#1297-1336" title="Go to source code">remove_old_drafts</a>( )</code>

			<div class="description short">
				<p>Check for old drafts and remove them</p>
			</div>

			<div class="description detailed hidden">
				<p>Check for old drafts and remove them</p>







			</div>
			</div></td>
		</tr>
		<tr data-order="maillist_fetch_IMAP" id="_maillist_fetch_IMAP">

			<td class="attributes"><code>
				 public 
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_maillist_fetch_IMAP">#</a>
			<code><a href="source-class-Scheduled_Task.html#1338-1349" title="Go to source code">maillist_fetch_IMAP</a>( )</code>

			<div class="description short">
				<p>Fetch emails from an imap box and process them</p>
			</div>

			<div class="description detailed hidden">
				<p>Fetch emails from an imap box and process them</p>

<ul>
<li>If we can't run this via cron, run it as a task instead</li>
</ul>







			</div>
			</div></td>
		</tr>
		<tr data-order="remove_old_followups" id="_remove_old_followups">

			<td class="attributes"><code>
				 public 
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_remove_old_followups">#</a>
			<code><a href="source-class-Scheduled_Task.html#1351-1386" title="Go to source code">remove_old_followups</a>( )</code>

			<div class="description short">
				<p>Check for followups from removed topics and remove them from the table</p>
			</div>

			<div class="description detailed hidden">
				<p>Check for followups from removed topics and remove them from the table</p>







			</div>
			</div></td>
		</tr>
		<tr data-order="user_access_mentions" id="_user_access_mentions">

			<td class="attributes"><code>
				 public 
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_user_access_mentions">#</a>
			<code><a href="source-class-Scheduled_Task.html#1388-1580" title="Go to source code">user_access_mentions</a>( )</code>

			<div class="description short">
				<p>Re-syncs if a user can access a mention,</p>
			</div>

			<div class="description detailed hidden">
				<p>Re-syncs if a user can access a mention,</p>

<ul>
<li>for example if they loose or gain access to a board, this will correct
the viewing of the mention table.  Since this can be a large job it is run
as a scheduled immediate task</li>
</ul>







			</div>
			</div></td>
		</tr>
			</table>
		</div>











</div>
	</div>

	<div id="footer">
		ElkArte 1.0.5 Documentation API documentation generated by <a href="http://apigen.org">ApiGen</a>
	</div>
</div>
<script src="resources/combined.js"></script>
<script src="elementlist.js"></script>
</body>
</html>
